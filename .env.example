# AutoReportAI Environment Configuration Template
# Copy this file to .env and update the values according to your environment

# =============================================================================
# ENVIRONMENT CONFIGURATION
# =============================================================================
ENVIRONMENT=development
DEBUG=true
LOG_LEVEL=INFO

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# PostgreSQL Database Settings
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=autoreport

# Constructed Database URL (auto-generated, don't modify)
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
# Redis Cache and Message Broker
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# Constructed Redis URLs (auto-generated, don't modify)
REDIS_URL=redis://redis:6379/0
CELERY_BROKER_URL=redis://redis:6379/1
CELERY_RESULT_BACKEND=redis://redis:6379/2

# =============================================================================
# APPLICATION SECURITY
# =============================================================================
# Secret key for JWT token generation (MUST be changed in production)
SECRET_KEY=dev-secret-key-change-in-production-environment

# Encryption key for sensitive data (MUST be changed in production)
ENCRYPTION_KEY=dev-encryption-key-change-in-production

# JWT Token Configuration
JWT_SECRET_KEY=${SECRET_KEY}
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# =============================================================================
# CORS CONFIGURATION
# =============================================================================
# Allowed origins for CORS (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# =============================================================================
# AI PROVIDER CONFIGURATION
# =============================================================================
# OpenAI Configuration
AI_PROVIDER=openai
OPENAI_API_KEY=your-openai-api-key-here
OPENAI_MODEL=gpt-4
OPENAI_MAX_TOKENS=4096
OPENAI_TEMPERATURE=0.7

# Alternative AI Providers (optional)
AZURE_OPENAI_ENDPOINT=
AZURE_OPENAI_API_KEY=
AZURE_OPENAI_API_VERSION=2023-12-01-preview

# Local AI Model Configuration (optional)
LOCAL_AI_ENDPOINT=http://localhost:8080
LOCAL_AI_MODEL=llama2

# =============================================================================
# CELERY AGENT SYSTEM CONFIGURATION
# =============================================================================
# Celery Worker Settings
CELERY_QUEUES=report_tasks,analysis_tasks,query_tasks,generation_tasks
CELERY_CONCURRENCY=4
CELERY_MAX_TASKS=100
CELERY_PREFETCH_MULTIPLIER=1
CELERY_WORKER_HIJACK_ROOT_LOGGER=false
CELERY_WORKER_LOG_COLOR=false

# Agent Pipeline Configuration
AGENT_OPTIMIZATION_LEVEL=standard
AGENT_BATCH_SIZE=1000
AGENT_ENABLE_CACHING=true
AGENT_CACHE_TTL=3600
AGENT_MAX_RETRIES=3
AGENT_RETRY_DELAY=5

# =============================================================================
# API SERVER CONFIGURATION
# =============================================================================
# Backend API Settings
BACKEND_HOST=0.0.0.0
BACKEND_PORT=8000
API_WORKERS=1
API_BASE_URL=http://localhost:8000

# Request Limits
MAX_REQUEST_SIZE=10485760
REQUEST_TIMEOUT=300
API_RATE_LIMIT=1000

# =============================================================================
# FILE STORAGE CONFIGURATION
# =============================================================================
# File Upload Settings
MAX_FILE_SIZE=10485760
ALLOWED_FILE_EXTENSIONS=xlsx,xls,csv,json,txt

# Storage Paths
UPLOAD_PATH=/app/uploads
REPORTS_PATH=/app/reports
STORAGE_PATH=/app/storage
LOGS_PATH=/app/logs

# MinIO Object Storage (optional)
MINIO_ENDPOINT=localhost:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_BUCKET_NAME=autoreport
MINIO_SECURE=false
FORCE_LOCAL_STORAGE=false

# =============================================================================
# EMAIL CONFIGURATION (optional)
# =============================================================================
# SMTP Settings for notifications
SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SENDER_EMAIL=noreply@autoreportai.com
ENABLE_EMAIL_NOTIFICATIONS=false

# Admin Email Addresses (comma-separated)
ADMIN_EMAILS=admin@example.com

# =============================================================================
# MONITORING AND OBSERVABILITY
# =============================================================================
# Application Monitoring
ENABLE_MONITORING=true
ENABLE_METRICS=true
METRICS_PORT=9090

# Flower Monitoring Interface
FLOWER_PORT=5555
FLOWER_BASIC_AUTH=admin:password

# Logging Configuration
LOG_FORMAT=json
LOG_FILE_MAX_SIZE=100MB
LOG_FILE_BACKUP_COUNT=5

# =============================================================================
# DATA SOURCE CONNECTION LIMITS
# =============================================================================
# Database Connection Pool Settings
DB_POOL_SIZE=20
DB_POOL_MAX_OVERFLOW=30
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# External Data Source Timeouts
DATASOURCE_CONNECTION_TIMEOUT=30
DATASOURCE_QUERY_TIMEOUT=300
DATASOURCE_MAX_RETRIES=3

# =============================================================================
# REPORT GENERATION SETTINGS
# =============================================================================
# Report Processing Configuration
REPORT_PROCESSING_TIMEOUT=1800
MAX_CONCURRENT_REPORTS=5
REPORT_CACHE_DURATION=3600

# Template Processing
TEMPLATE_CACHE_SIZE=100
PLACEHOLDER_PROCESSING_TIMEOUT=60

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================
# Development-specific settings (ignored in production)
DEV_RELOAD=true
DEV_DEBUG_SQL=false
DEV_ENABLE_PROFILING=false
DEV_MOCK_AI_RESPONSES=false

# =============================================================================
# DOCKER COMPOSE SPECIFIC
# =============================================================================
# Used by docker-compose for service configuration
COMPOSE_PROJECT_NAME=autoreportai
COMPOSE_HTTP_TIMEOUT=120

# Service Resource Limits (for docker-compose)
API_MEMORY_LIMIT=1g
WORKER_MEMORY_LIMIT=1g
DB_MEMORY_LIMIT=512m
REDIS_MEMORY_LIMIT=256m

# =============================================================================
# PRODUCTION OVERRIDES
# =============================================================================
# These should be overridden in production environment

# Security (MUST be changed in production)
# SECRET_KEY=your-very-secure-secret-key-here
# ENCRYPTION_KEY=your-very-secure-encryption-key-here

# Database (production database credentials)
# POSTGRES_PASSWORD=your-secure-database-password

# AI Provider (production API keys)
# OPENAI_API_KEY=your-production-openai-api-key

# Email (production SMTP credentials)
# SMTP_USERNAME=your-production-smtp-username
# SMTP_PASSWORD=your-production-smtp-password

# Monitoring (production credentials)
# FLOWER_BASIC_AUTH=production-admin:secure-password