# AutoReportAI 统一环境配置
# 项目名称
COMPOSE_PROJECT_NAME=autoreport

# Database Configuration
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=autoreport
POSTGRES_PORT=5432

# Redis Configuration
REDIS_PORT=6379

# Backend Configuration
BACKEND_PORT=8000
API_WORKERS=1
ENVIRONMENT=development
DEBUG=false
SECRET_KEY=dev-secret-key-change-in-production
ENCRYPTION_KEY=dev-encryption-key-change-in-production

# CORS Configuration
CORS_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# AI Provider Configuration - 支持任何OpenAI兼容的服务
PRIMARY_AI_PROVIDER=your_ai_provider
PRIMARY_AI_API_KEY=sk-your-openai-api-key
PRIMARY_AI_BASE_URL=your_ai_base_url
PRIMARY_AI_MODEL=gpt-4o-mini

# 备用AI提供商配置 (OpenAI)
AI_PROVIDER=openai
OPENAI_API_KEY=
OPENAI_MODEL=gpt-4

# File Storage Configuration
MAX_FILE_SIZE=10485760

# API Configuration
API_BASE_URL=http://localhost:8000
API_RATE_LIMIT=1000

# Email Configuration (optional)
SMTP_SERVER=
SMTP_PORT=587
SMTP_USERNAME=
SMTP_PASSWORD=
ENABLE_EMAIL_NOTIFICATIONS=false

# MinIO Configuration (optional)
MINIO_ENDPOINT=
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_BUCKET_NAME=autoreport
MINIO_PORT=9000
MINIO_CONSOLE_PORT=9001
FORCE_LOCAL_STORAGE=true

# Monitoring Configuration
ENABLE_MONITORING=true

# Frontend Configuration
FRONTEND_PORT=3000
NEXT_PUBLIC_API_URL=http://localhost:8000/api/v1
NEXT_PUBLIC_WS_URL=ws://localhost:8000/ws
NEXT_PUBLIC_APP_NAME=AutoReportAI
NEXT_PUBLIC_APP_VERSION=1.0.0

# Celery Configuration
CELERY_QUEUES=celery,report_tasks,analysis_tasks,query_tasks,generation_tasks
CELERY_CONCURRENCY=4
CELERY_MAX_TASKS=100
CELERY_PREFETCH_MULTIPLIER=1

# Agent Configuration
AGENT_OPTIMIZATION_LEVEL=standard
AGENT_BATCH_SIZE=1000
AGENT_ENABLE_CACHING=true
AGENT_CACHE_TTL=3600
AGENT_MAX_RETRIES=3

# Flower Monitoring (optional)
FLOWER_PORT=5555
FLOWER_BASIC_AUTH=admin:password

# Logging Configuration
LOG_LEVEL=INFO

# 时区配置
TIMEZONE=Asia/Shanghai

# 资源限制配置
DB_MAX_CPUS=0.5
DB_MAX_MEMORY=512M
DB_MIN_MEMORY=256M

REDIS_MAX_CPUS=0.25
REDIS_MAX_MEMORY=256M
REDIS_MIN_MEMORY=128M

BACKEND_MAX_CPUS=1.0
BACKEND_MAX_MEMORY=1G
BACKEND_MIN_MEMORY=512M

FRONTEND_MAX_CPUS=0.5
FRONTEND_MAX_MEMORY=512M
FRONTEND_MIN_MEMORY=256M

# 代理配置（如果需要）
# 构建时代理设置 - 用于Docker构建过程中的网络访问
BUILD_HTTP_PROXY=
BUILD_HTTPS_PROXY=
BUILD_NO_PROXY=localhost,127.0.0.1

# 示例配置（根据你的代理服务器修改）:
# BUILD_HTTP_PROXY=http://your-proxy-server:port
# BUILD_HTTPS_PROXY=http://your-proxy-server:port
# BUILD_NO_PROXY=localhost,127.0.0.1,*.local