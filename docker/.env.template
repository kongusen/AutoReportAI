# AutoReportAI Environment Configuration Template
# Copy this file to .env and modify the values according to your environment

#=====================================
# Project Configuration
#=====================================
COMPOSE_PROJECT_NAME=autoreport
ENVIRONMENT=production

#=====================================
# Database Configuration
#=====================================
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your_secure_password_here
POSTGRES_DB=autoreport
POSTGRES_PORT=5432

# Database Resource Limits
DB_MAX_CPUS=0.5
DB_MAX_MEMORY=512M
DB_MIN_MEMORY=256M

#=====================================
# Redis Configuration
#=====================================
REDIS_PORT=6379

# Redis Resource Limits
REDIS_MAX_CPUS=0.25
REDIS_MAX_MEMORY=256M
REDIS_MIN_MEMORY=128M

#=====================================
# Application Configuration
#=====================================
# IMPORTANT: Generate secure keys for production
# Use: python3 -c "import secrets; print(secrets.token_urlsafe(32))" for SECRET_KEY
SECRET_KEY=your_secret_key_here_minimum_32_characters
# Use: python3 -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())" for ENCRYPTION_KEY
ENCRYPTION_KEY=your_base64_encryption_key_here

# Service Ports
BACKEND_PORT=8000
FRONTEND_PORT=3000

# API Configuration
API_WORKERS=1
API_BASE_URL=http://localhost:8000
API_RATE_LIMIT=1000

# Debug Settings
DEBUG=false
LOG_LEVEL=INFO

#=====================================
# CORS Configuration
#=====================================
# Add your frontend URLs here (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

#=====================================
# Frontend URLs
#=====================================
# External URLs (what users see in browser)
NEXT_PUBLIC_API_URL=http://localhost:8000/api/v1
NEXT_PUBLIC_WS_URL=ws://localhost:8000/ws

#=====================================
# AI Provider Configuration
#=====================================
AI_PROVIDER=openai
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_MODEL=gpt-4

#=====================================
# Celery Configuration
#=====================================
CELERY_QUEUES=report_tasks,analysis_tasks,query_tasks,generation_tasks
CELERY_CONCURRENCY=4
CELERY_MAX_TASKS=100
CELERY_PREFETCH_MULTIPLIER=1

#=====================================
# Agent Configuration
#=====================================
AGENT_OPTIMIZATION_LEVEL=standard
AGENT_BATCH_SIZE=1000
AGENT_ENABLE_CACHING=true
AGENT_CACHE_TTL=3600
AGENT_MAX_RETRIES=3

#=====================================
# Resource Limits
#=====================================
# Backend
BACKEND_MAX_CPUS=1.0
BACKEND_MAX_MEMORY=1G
BACKEND_MIN_MEMORY=512M

# Frontend
FRONTEND_MAX_CPUS=0.5
FRONTEND_MAX_MEMORY=512M
FRONTEND_MIN_MEMORY=256M

# Celery Worker
WORKER_MAX_CPUS=1.0
WORKER_MAX_MEMORY=1G
WORKER_MIN_MEMORY=512M

# Celery Beat
BEAT_MAX_CPUS=0.25
BEAT_MAX_MEMORY=512M
BEAT_MIN_MEMORY=256M

#=====================================
# File Storage Configuration
#=====================================
MAX_FILE_SIZE=10485760
FORCE_LOCAL_STORAGE=true

#=====================================
# Email Configuration (Optional)
#=====================================
ENABLE_EMAIL_NOTIFICATIONS=false
SMTP_SERVER=
SMTP_PORT=587
SMTP_USERNAME=
SMTP_PASSWORD=

#=====================================
# MinIO Configuration (Optional)
#=====================================
MINIO_PORT=9000
MINIO_CONSOLE_PORT=9001
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_BUCKET_NAME=autoreport
MINIO_ENDPOINT=
MINIO_MAX_CPUS=0.5
MINIO_MAX_MEMORY=512M
MINIO_MIN_MEMORY=256M

#=====================================
# Monitoring Configuration (Optional)
#=====================================
ENABLE_MONITORING=true

# Flower (Celery Monitoring)
FLOWER_PORT=5555
FLOWER_BASIC_AUTH=admin:password
FLOWER_MAX_CPUS=0.25
FLOWER_MAX_MEMORY=256M
FLOWER_MIN_MEMORY=128M

#=====================================
# Build Configuration (Optional)
#=====================================
# Proxy settings for Docker builds (leave empty if not needed)
BUILD_HTTP_PROXY=
BUILD_HTTPS_PROXY=
BUILD_NO_PROXY=localhost,127.0.0.1

#=====================================
# Network Configuration
#=====================================
NETWORK_SUBNET=172.20.0.0/16

#=====================================
# Security Configuration
#=====================================
# Additional security settings can be added here
# For example: rate limiting, IP whitelisting, etc.

#=====================================
# Development/Production Specific
#=====================================
# Uncomment and modify these for different environments

# Development
# ENVIRONMENT=development
# DEBUG=true
# LOG_LEVEL=DEBUG
# CORS_ORIGINS=http://localhost:3000,http://127.0.0.1:3000,http://192.168.1.100:3000

# Production
# ENVIRONMENT=production
# DEBUG=false
# LOG_LEVEL=INFO
# CORS_ORIGINS=https://yourdomain.com
# NEXT_PUBLIC_API_URL=https://api.yourdomain.com/api/v1
# NEXT_PUBLIC_WS_URL=wss://api.yourdomain.com/ws